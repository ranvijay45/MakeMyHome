{%extends 'base.html'%}

{%block content%}

<div class="dc"><div class="frm">
    <h2>Service Requests</h2>
    <form method="post">
        {% csrf_token %}
        <div class="form-floating mb-3">
            <select class="form-select" name="request_id">
                {% for request in requests %}
                    <option value="{{ request.id }}">{{ request.id }}</option>
                {% endfor %}
            </select>
            <label for="request_id">Select Service Request:</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" placeholder="" name="timeline" id="timeline" required>
            <label for="timeline">Timeline:</label>
        </div>
        <div class="form-floating mb-3">
            <input type="number" class="form-control" placeholder="" name="budget" id="budget" required>
            <label for="budget">Budget:</label>
        </div>
        <div class="form-floating mb-3">
            <input type="number" class="form-control" placeholder="" name="progress" id="progress" required>
            <label for="progress">Progress:</label>
        </div>
        
        <div class="form-floating mb-3">
            <select class="form-select" name="status" id="status">
                <option value="Pending">Pending</option>
                <option value="In Progress">In Progress</option>
                <option value="Completed">Completed</option>
            </select>
            <label for="status">Status:</label>
        </div>
        <button type="submit" class="btna d-block mx-auto">Update Request</button>
    </form>
</div></div>


<div class="dc">

        {% for request in requests %}
        <div class="cards">
                        <h5 class="card-title mb-4">Service Request ID: {{ request.id }}</h5>
                        <p class="card-text"><strong>Architect:</strong> {{ request.architech.name }}</p>
                        <p class="card-text"><strong>Contractor:</strong> {{ request.contractor.name }}</p>
                        <p class="card-text"><strong>Supplier:</strong> {{ request.supplier.name }}</p>
                        <p class="card-text"><strong>Service Type:</strong> {{ request.service_type }}</p>
                        <p class="card-text"><strong>Request Date:</strong> {{ request.request_date }}</p>
                        <p class="card-text"><strong>Status:</strong> {{ request.status }}</p>
                    </div>
            {% endfor %}

</div>
{%endblock content%}